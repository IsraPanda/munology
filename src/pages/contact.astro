---
// src/pages/contact.astro
import BaseLayout from '../layouts/BaseLayout.astro';
import PageHeader from '../components/PageHeader.astro';
import FormField from '../components/FormField.astro';
import Button from '../components/Button.astro';
import Icon from '../components/Icon.astro';
import Message from '../components/Message.astro';
import Stack from '../components/Stack.astro';

const pageTitle = "Contact | お問い合わせ";

const breadcrumbs = [
  { label: "ホーム", href: "/" },
  { label: "お問い合わせ" }
];
---

<BaseLayout pageTitle={pageTitle}>
  <main id="main-content" class="pt-16">
    <!-- ページヘッダー -->
    <PageHeader 
      title="お問い合わせ" 
      description="お問い合わせやご質問がございましたら、お気軽にご連絡ください。"
      breadcrumbs={breadcrumbs}
    />

    <!-- フォームセクション -->
    <section class="flex justify-center items-center min-h-[70vh] py-8 px-2">
      <div class="w-full max-w-2xl">
        <div class="bg-[#181818] rounded-2xl shadow-xl border border-gray-700 p-6 md:p-10">
          <Stack gap="large">
            <div class="flex items-center">
              <div class="w-12 h-12 bg-green-500 bg-opacity-10 rounded-full flex items-center justify-center mr-4">
                <Icon name="check" size="medium" class="text-green-400" />
              </div>
              <h2 class="text-2xl md:text-3xl font-bold font-noto">お問い合わせフォーム</h2>
            </div>
            <Message type="info">
              以下のフォームに必要事項をご記入の上、送信してください。
            </Message>
            <!-- Brevo Form -->
            <style>
              /* Tally.so風ダークフォームスタイル */
              #sib-container, #sib-container * {
                font-family: 'Noto Sans JP', 'Noto Sans', 'Helvetica Neue', Arial, 'Meiryo', sans-serif;
                color: #e0e0e0;
                background: none;
              }
              #sib-container {
                background-color: transparent;
                border-radius: 1.2rem;
                box-shadow: none;
                padding: 0;
              }
              #sib-container .entry__label {
                color: #e0e0e0;
                font-weight: 600;
                margin-bottom: 0.7rem;
                font-size: 1rem;
              }
              
              /* focusスタイル */
              #sib-container input[type="text"]:focus,
              #sib-container input[type="email"]:focus,
              #sib-container select:focus,
              #sib-container textarea:focus {
                border-color: #3b82f6 !important;
                background-color: #0f0f0f !important;
                outline: none !important;
                box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;
              }
              
              /* より強い指定でfocusスタイルを強制適用 */
              #sib-container .input:focus {
                border-color: #3b82f6 !important;
                background-color: #0f0f0f !important;
                outline: none !important;
                box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;
              }
              
              #sib-container .sib-form-block__button {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                border-radius: 0.75rem;
                padding: 1rem 2.5rem;
                font-weight: 700;
                font-size: 1.1rem;
                color: #fff;
                border: none;
                margin-top: 1.5rem;
                box-shadow: 0 2px 12px rgba(0,0,0,0.12);
                transition: background 0.2s;
              }
              #sib-container .sib-form-block__button:hover {
                background: linear-gradient(135deg, #5a67d8 0%, #6b21a8 100%);
              }
              #sib-container .entry__error {
                border-radius: 0.5rem;
                padding: 0.5rem 1rem;
                margin-top: 0.5rem;
              }
              #sib-container .checkbox {
                border-color: #333;
                background-color: #222;
              }
              #sib-container .checkbox_tick_positive {
                background-color: #667eea;
                border-color: #667eea;
              }
              
              /* optionタグのスタイル */
              #sib-container select option[disabled] {
                color: #9ca3af;
              }
              #sib-container select option {
                color: #fff;
                background-color: #1a1a1a;
              }
            </style>
            <link rel="stylesheet" href="https://sibforms.com/forms/end-form/build/sib-styles.css">
            
            <div class="sib-form" style="text-align: center; background-color: transparent;">
              <!-- ここにBrevoフォーム本体が入る（省略） -->
              <slot name="form" />
            </div>
          </Stack>
        </div>
      </div>
    </section>
  </main>
</BaseLayout>
